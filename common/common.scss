// Change background image here

body {
  @if $no-background-image == 'false' {
    @if $background-image != 'default' {
      background-image: url($background-image);
    } @else {
      background-image: url($default-background);
    }
    @if $tile-background == 'true' {
      background-size: auto;
    } @else {
      background-size: 1000px;
    } 
  }
  background-color: #212121;
}

/* Make cursor stay normal*/
body,
button,div,span,
img,svg,
h1,h2,h3,h4,h5,h6,p,
summary,
input,textbox,input,textarea,
li,ul {
  /* cursor: default !important; */
}

.cooked img:not(.thumbnail):not(.emoji),
.d-editor-preview img:not(.thumbnail):not(.emoji) {
  border-radius: 8px;
}

/* Hide the ugly footer */
#footer_rbx {
  display: none;
}

aside.quote .title {
  border-radius: 8px;
}

/* Make Like button white */
nav.post-controls .actions .double-button button.has-like .d-icon {
  color: #fff;
}

/* Search */
.custom-search-banner-wrap {
  margin: 0 auto !important;
  max-width: unset;
  color: var(--secondary);
  h1 {
    font-size: 4em;
  }
  p {
    font-size: 1.25em !important;
    font-weight: bold;
    margin-bottom: 1em;
  }
  .btn {
    height: 100%;
  }
  .search-menu {
    input[type="text"] {
      border: 1px solid transparent;
      border-radius: 0.25em;
      min-height: 40px;
      &:focus {
        outline: 3px solid rgba(var(--primary-rgb), 0.35);
      }
    }
    .search-input {
      border-color: var(--tertiary-hover);
      outline: 1px solid var(--tertiary-hover);
    }
  }
  .search-context {
    top: 3.25em;
    right: 1em;
  }
  .widget-link.show-help {
    color: rgba(var(--primary-rgb), 0.75);
    border-radius: 0.5em;
    padding: 0.5em;
    background-color: rgba(var(--secondary-rgb), 0.25);
    &:hover {
      color: var(--primary);
    }
  }
  .results {
    top: 43px;
    border-radius: 0.25em;
  }
}

div.boxed,
.admin-content .admin-contents,
.full-width,
.boxed.white,
.admin-customize .current-style .edit-main-nav ul,
.admin-controls nav,
.admin-controls nav:after,
.admin-controls nav:before {
  background: transparent;
}

pre code {
  border-radius: 8px;
}

.search-input {
  border-radius: 0.25em;
}

#main #reply-control .grippie {
  border-top-right-radius: 8px;
  border-top-left-radius: 8px;
}

.display-search-banner #main-outlet {
  padding-top: 1em;
}

.alert {
  margin: 1em 0;
}

.composer-popup.education-message {
  border-radius: 8px;
}

.topic-list {
  .topic-list-header,
  .topic-list-item {
    .topic-list-data {
      padding: 15px 5px;
    }
  }
}

.navigation-topics .topic-list {
  .topic-list-header,
  .topic-list-body {
    .topic-list-data {
      flex: unset;
    }
  }
}

/* User cards + header that look good */
.d-header {
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0) !important;
  top: 4px;
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}

.category-list.with-topics .category {
  border-radius: 8px 0px 0px 8px;
}

.extra-info-wrapper .topic-header-extra .discourse-tags .discourse-tag {
  border-radius: 8px 8px 8px 8px;
  background-color: #0f0f0f !important;
}

/* Fix the glitchy af badges */
.user-card .badge-section {
  border-radius: 8px;
  .user-card-badge-link,
  .more-user-badges {
    border: 0px;
    border-top-right-radius: 16px;
    border-top-left-radius: 16px;
    border-bottom-right-radius: 8px;
    border-bottom-left-radius: 8px;
  }
}

.badge-wrapper.box {
  border-radius: 0.25em;
  overflow: hidden;
}

.badge-wrapper.bullet .badge-category-bg {
  border-radius: 0.125em;
}

.badge-wrapper.bullet .badge-category-parent-bg {
  border-top-left-radius: 0.125em;
  border-bottom-left-radius: 0.125em;
}

.badge-wrapper.bullet .badge-category-parent-bg + .badge-category-bg {
  border-top-left-radius: 0px;
  border-bottom-left-radius: 0px;
  border-top-right-radius: 0.125em;
  border-bottom-right-radius: 0.125em;
}

/* Notification recolor */
.d-header-icons .unread-notifications {
  /*New notification, also counts as "low priority"*/
  background-color: #4aaeff;
}

.unread-high-priority-notifications.badge-notification[href] {
  /* DM/moderation action, counts as "high priority" */
  background-color: #67ffb2;
}

.user-card {
  .badge-section {
    .user-badge,
    .more-user-badges a {
      border-radius: 16px;
    }  
  }
}

.modal-inner-container {
  border-radius: 9px;
}

.discourse-tag {
  font-size: medium;
  border-radius: 0.25em;
  padding: 0.15em 0.25em 0.15em 0.35em;
  background-color: var(--primary-low);
  color: var(--primary) !important;
  &:hover {
    background-color: var(--primary-low-mid);
    color: var(--primary);
  }
}

.discourse-tags,
.list-tags,
.search-category {
  .discourse-tag.simple:not(:last-child)::after {
    content: "";
    margin-left: unset;
  }
}

.topic-list {
  .link-bottom-line {
    .discourse-tag {
      &.simple:after,
      &.discourse-tag.box {
        margin-right: 0px;
      }
    }
  }
}

#site-text-logo {
  color: var(--primary);
}

.mobile-view .cm-header-links {
  display: none;
}

.mobile-view .list-controls .nav-pills .drop li:first-of-type {
  display: none;
}

input[type],
.select-kit.combo-box .select-kit-header,
.d-editor-textarea-wrapper,
div.ac-wrap {
  border-radius: 8px !important;
}

.badge-card,
.reviewable-filters,
.user-card.show,
.group-card.show {
  border-radius: 14px;
}

.list-controls .combo-box .combo-box-header {
  border: none;
  /* background-color: #2c2c2c; */
}

.d-header {
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.06);
  margin-top: 5px;
  border-radius: 12px 12px 12px 12px;
}

.d-header-icons {
  .d-icon {
    border-radius: 100px;
    .icon {
      border-radius: 0.25em;
      margin-left: 0.3em;
      border: 1px solid transparent;
      svg {
        font-size: 1.25em;
      }
      img.avatar {
        border-radius: 0.25em;
      }
    }
  }
}

.menu-panel.drop-down {
  margin-top: 1em;
  border-radius: 0.5em;
  border: none;
}

.drop-down-mode .d-header-icons .active .icon {
  border: 1px solid transparent;
  background: rgba(255, 255, 255, 0.00);
  .d-icon {
    color: var(--tertiary);
  }
  &:hover {
    border: 1px solid transparent;
  }
}

.topic-chat-container .chat-live-pane,
.chat-live-pane .chat-messages-scroll,
.chat-composer-container,
.chat-drawer,
.topic-chat-drawer-header,
.topic-chat-drawer-content,
.topic-chat-container {
  background-color: rgba(36, 36, 36, 0.07);
  &::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: -1;
    backdrop-filter: blur(2rem);
    -webkit-backdrop-filter: blur(2rem);
  }
}

.chat-message {
  background: transparent;
}

.chat-messages-container .chat-message.chat-message-bookmarked {
  border-radius: 8px;
}

.chat-composer-dropdown__list,
[data-tippy-root],
.tippy-box {
  background-color: rgba(36, 36, 36, 0.07);
  border-radius: 8px;
  backdrop-filter: blur(10rem);
  -webkit-backdrop-filter: blur(10rem);
}

.user-card.show,
.group-card.show,
.user-card .card-content,
.group-card .card-content {
  border-radius: 12px;
  background-color: rgba(36, 36, 36, 0.21);
  backdrop-filter: blur(2rem);
  -webkit-backdrop-filter: blur(2rem);
}

.modal-backdrop.in {
  background-color: rgba(36, 36, 36, 0.00);
  backdrop-filter: blur(5rem);
  -webkit-backdrop-filter: blur(5rem);
}

.menu-panel {
  .widget-link,
  .categories-link {
    &:hover,
    &:focus {
      background-color: rgba(var(--tertiary-rgb), 0.5);
    }
  }
}

.btn:not(.themes-tab):not(.components-tab),
.select-kit.dropdown-select-box .dropdown-select-box-header {
  border-radius: 8px;
  border: 1px solid transparent;
}

.post-admin-menu.popup-menu .btn.widget-button {
  border-radius: 0px;
}

.unread-high-priority-notifications {
  background: var(--quaternary);
}

.timeline-container {
  .topic-timeline {
    .timeline-handle {
      background-color: var(--tertiary);
    }
    .timeline-scrollarea {
      border-left-color: var(--tertiary);
    }
  }
}

#background-container {
  position: fixed;
  z-index: -0;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  background: linear-gradient(90deg, var(--tertiary-hover) 0%, var(--tertiary) 100%);
  clip-path: ellipse(148% 70% at 91% -14%);
}

#main-outlet {
  margin-top: 5px;
  margin-bottom: 50px;
  background: var(--secondary);
  border-radius: 1em;
  padding: 3em 3em 5%;
  max-width: 1150px;
  padding-bottom: 5% !important;
  box-shadow: 0 24px 40px rgb(0, 0, 0), 0 10.8529px 24.1177px rgba(0, 0, 0, 0.0456112), 0 4.50776px 10.0172px rgba(0, 0, 0, 0.035), 0 1.63037px 3.62304px rgba(0, 0, 0, 0.0243888);
  @media screen and (max-width: 700px) {
    padding: 1.5em;
    margin-top: 0;
  }
  @media screen and (max-width: 1120px) {
    width: 80%;
  }
  @media screen and (max-width: 1075px) {
    width: 85%;
  }
}

body.archetype-regular #main-outlet {
  min-height: 500px;
}

.nav-pills > li a.active,
.nav-pills > li > a {
    border-radius: 0.5em;
}

@keyframes background-fade-highlight {
  0% {
    background-color: var(--highlight-low);
  }
  100% {
    background-color: var(--secondary);
  }
}

.ip-lookup .location-box {
  background-color: rgba(36, 36, 36, 0.07);
  border-radius: 8px;
  backdrop-filter: blur(2rem);
  -webkit-backdrop-filter: blur(2rem);
}

.navigation-container {
  margin-top: 2em;
}

.published-page-content-wrapper {
  max-width: 1000px;
  margin-top: 30px;
  margin-bottom: 50px;
  background: var(--secondary);
  border-radius: 1em;
  padding: 3em 3em 5%;
  box-shadow: 0 24px 40px rgba(0, 0, 0, 0.07), 0 10.8529px 24.1177px rgba(0, 0, 0, 0.0456112), 0 4.50776px 10.0172px rgba(0, 0, 0, 0.035), 0 1.63037px 3.62304px rgba(0, 0, 0, 0.0243888);
  z-index: 1;
  position: relative;
}

.published-page {
  &::before{
    background: linear-gradient(90deg, var(--tertiary-hover) 0%, var(--tertiary) 100%);
    clip-path: ellipse(148% 70% at 91% -14%);
    content: "";
    width: 100%;
    height: 100%;
    display: block;
    position: fixed;
    z-index: 0;
  }
  .background-container {
    display: none;
  }
}

.post-notice {
  background: transparent;
}

.group-details-container {
  border-radius: 8px;
}

.quote-button {
  background-color: var(--primary-low-mid);
  border-radius: 0.5em;
}

.directory {
  .filters {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    > span {
      margin-bottom: 5px;
    }
  }
  .filter-name {
    float: none;
  }
  .group-filter:not(.active) .select-kit-header {
    color: var(--primary-high);
  }
}

.user-card-directory {
  display: grid;
  grid-template-columns: 1fr;
  grid-gap: 60px 20px;
  margin-top: 60px;
  @media only screen and (min-width: 500px) {
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  }
  .user-card-container {
    margin: 60px 20px;
    width: 100%;
    background-color: var(--secondary);
    box-shadow: none;
    margin-bottom: auto;
  }
  .user-card {
    z-index: auto;
    position: relative;
    width: 100%;
    box-shadow: none;
    margin: 0;
    .badge-section {
      overflow: hidden;
    }
  }
  .usercard-controls {
    display: none;
  }
  .user-card-directory-footer {
    background-color: var(--secondary);
    padding: 0px 10px 10px 10px;
    display: flex;
    flex-wrap: wrap;
    .stat {
      flex-basis: 0;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2px;
      .label {
        font-size: medium;
        .d-icon {
          margin-right: 0.2em;
          color: var(--primary-medium);
        }
      }
    }
  }
}

@supports (display: grid) {
  .user-card-directory {
    display: grid;
  }
  .user-card-directory .user-card-container {
    margin: 0;
  }
}

.fullscreen-table-modal .modal-inner-container {
  border-radius: 8px;
}

.hljs {
  border-radius: 8px;
}

/*
discourse you really gotta fix your search system
*/
.search-container {
  .search-header {
    background: transparent;
  }
  .search-filters {
    background-color: #121212;
    .search-advanced-filters {
      background-color: #121212;
    }
    .search-advanced-filters .search-advanced-options,
    details.search-advanced-additional-options > summary {
      background-color: #121212;
    }
  }
  .search-bar {
    background-color: #121212;
  }
}

.page-not-found-topics {
  margin-left: auto;
  margin-right: auto;
}

/*Ultra's mockup on the flair, I liked it so I made it*/
.topic-avatar,
.avatar-flair-preview,
.collapsed-info .user-profile-avatar,
.user-image,
.latest-topic-list-item {
  .avatar-flair {
    &.rounded {
      background-color: rgba(255, 255, 255, 0.00);
      bottom: 25px;
      right: -14px;
    }
  }
}

.user-card-avatar,
.user-profile-avatar {
  .avatar-flair {
    &.rounded {
      background-color: rgba(255, 255, 255, 0.00);
      bottom: -20px;
      right: -23px;
    }
    .fa {
      right: -20px;
    }
  }
}

.topic-body .topic-meta-data {
  right: -5px;
  align-items: end !important;
}

div.row {
  background: transparent;
}

.menu-panel.drop-down {
  background-color: rgba(0, 15, 255, 0.00);
  -webkit-backdrop-filter: blur(2rem);
  backdrop-filter: blur(2rem); 
}

#reply-control .mini-tag-chooser .select-kit-header {
  background: transparent;
  border-radius: 8px;
}

.popup-menu {
  border-radius:8px;
}

.discourse-reactions-state-panel .container, .discourse-reactions-picker .discourse-reactions-picker-container {
  border-radius: 8px;
  background: rgba(0, 15, 255, 0.00);
  backdrop-filter: blur(2rem);
  -webkit-backdrop-filter: blur(2rem);
}

.admin-report .conditional-loading-section.is-loading {
  background: transparent;
}

nav.post-controls .actions button{
  border-radius:8px;
}

.user-menu .quick-access-panel {
  ul {
    border-radius: 8px;
    opacity: 0.7;
    li a {
      padding: 0em 0.5em;
    }
  }
  &.quick-access-profile li:not(.show-all) a {
    padding-bottom: .1em;
  }
}

.presence-users {
  background: transparent;
}

img.avatar {
  border-radius: 15px;
}

.search-container .search-page-heading {
  padding: 2em 3.8em;
  font-size: 5em;
}

.search-advanced-additional-options {
  font-size: 20px;
}

.user-invite-none {
  font-size: 25px;
  font-weight: 1000;
}

.topic-map {
  background-color: rgba(6, 6, 6, 0.00);
}

a.mention {
  background-color: rgba(255, 255, 255, 0.00);
}

div.poll .results {
  .chosen .bar,
  .bar-back {
    border-radius: 8px;
  }
  .bar {
    border-radius: 8px;
  }
}

.map:first-of-type .buttons .btn {
  border-radius: 8px 0px 0px 8px;
}

.user-main .about .secondary dl div {
  margin-right: -6px;
}

#reply-control .save-or-cancel .cancel {
  background: #2C2C2C;
  border-radius: 8px;
  width: 70px;
  height: 30px;
  content: "test" !important;
  text-align: center !important;
}


div#banner,
div.global-notice,
.alert.alert-info {
  border-radius: 12px;
}

blockquote {
  border-radius: 8px;
}

.admin-detail,
.admin-controls .controls,
.nav-stacked li,
.admin-nav {
  background: transparent;
  border-radius: 8px;
}
.legendary-user .guest-otaku {
	display: none;
}
.otaku-card .user-card-avatar .card-huge-avatar img, .otaku-card .user-profile-link span {
	position: relative;
	z-index: -1;
}
.otaku-card .user-card-avatar, .otaku-card .otaku-username {
	position: relative;
}
.otaku-link {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
}

.d-modal.create-account .otaku-modal .has-alt-auth .create-account-form {
    grid-template-columns: 100% 0%;
}
.otaku-create-account-login-buttons {
    width: 100%;
} 
.otaku-create-account-login-buttons #login-buttons {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    min-height: 100% !important;
    flex-wrap: nowrap !important;
    border: none !important;
    justify-content: flex-start !important;
    padding: 0 !important;
}
.otaku-create-account-login-buttons #login-buttons button {
    margin: 0 !important;
    border: none !important;
    outline: none;
    box-shadow: none;
    margin-right: 15px !important;
    padding: 5px !important;
    flex: none !important;
}
.otaku-create-account-login-buttons #login-buttons button svg {
    width: 40px;
    height: 40px;
    margin-right: 0;
}
.otaku-account-form #create-account-title {
    max-width: 100%;
    padding-left: 30px;
    padding-right: 30px;
    padding-top: 30px;
    padding-bottom: 0;
    background-color: #000;
    color: #fff;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}
.otaku-account-form .login-form .input-group input {
    margin-bottom: 0 !important;
    background-color: #000;
    border-radius: 5px !important;
    color: #fff;
}
.otaku-account-form .more-info {
    position: absolute;
    right: 45px;
    top: 11px;
    color: #939699 !important;
}
.focus-element .more-info {
    display: none !important;
}

.fixed-modal:not(.bookmark-reminder-modal):not(.history-modal):not(.sidebar__edit-navigation-menu__modal) .otaku-modal .modal-body:not(.reorder-categories):not(.poll-ui-builder):not(.poll-breakdown) {
    max-height: 100% !important;
}

.d-modal.create-account .otaku-modal .has-alt-auth .login-form, .d-modal.create-account .otaku-modal .login-form {
    overflow: hidden;
    background-color: #000;
}

.login-buttons-title { 
    width: 100%;
    font-size: 20px;
    font-weight: 400;
    margin-top: 15px;
}

.otaku-modal {
    width: 400px;
}

.d-modal.create-account .otaku-modal .has-alt-auth .login-form .input-group, .d-modal.create-account .otaku-modal .login-form .input-group {
    padding: 0 30px; 
}

.d-modal.create-account .otaku-modal .modal-footer {
    border: none;
    padding-left: 30px;
    padding-right: 30px;
    padding-bottom: 30px;
    padding-top: 0;
    background-color: #000;
    color: #fff;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
}
#create-account-title .image {
    max-width: 60px;
    margin-top: 5px;
    margin-right: 5px;
}
#create-account-title .image img {
    max-width: 100%;
}
.otaku-modal .btn-social.facebook {
    background-color: #4267B2 !important;
}
.otaku-modal .btn-social.facebook svg {
    color: #fff !important;
}
.otaku-modal .btn-social.twitter {
    background-color: #1da1f2 !important;
}
.otaku-modal .btn-social.twitter .d-icon {
    color: #fff;
}
.otaku-modal .login-link {
    margin-left: auto;
}

.d-modal.create-account .otaku-modal .modal-footer:before {
    background-image: none;
    display: none;
}

.d-modal.create-account .has-alt-auth .login-form .input-group input:not(.value-entered):not(:focus)+label.alt-placeholder, .d-modal.create-account .login-form .input-group input:not(.value-entered):not(:focus)+label.alt-placeholder {
    color: #BFBFBF;
}
.create-account .otaku-modal .disclaimer {
    color: #939699;
}
.otaku-modal button#login-link, .otaku-modal button#new-account-link {
    color: #fff; 
    margin-left: auto;
    position: relative;
    margin-right: 0;
    padding-right: 30px;
}

.otaku-modal .modal-body {
    background: transparent !important;
}
.modal-close svg {
    color: #939699 !important;
    width: 30px;
    height: 30px;
}

.otaku-modal button#login-link:after, .otaku-modal button#new-account-link:after {
    content: "";
    position: absolute;
    background-image: url(https://cdn.shopify.com/s/files/1/0528/3971/0891/files/Arrow_e905cf07-eef2-46ae-9319-b273cd2e2746.png?v=1690472500); 
    top: 15px;
    right: 0;
    height: 10px;
    width: 25px;
    background-position: center;
    background-size: cover;
}

.d-modal.create-account .has-alt-auth .login-form .input-group input:focus+label.alt-placeholder, .d-modal.create-account .has-alt-auth .login-form .input-group input.value-entered+label.alt-placeholder, .d-modal.create-account .login-form .input-group input:focus+label.alt-placeholder, .d-modal.create-account .login-form .input-group input.value-entered+label.alt-placeholder {
    border-radius: 3px !important;
}
.hide-text {
    display: none !important;
}

@media screen and (max-width: 700px) {
.otaku-modal {
    width: 100%;
}
.otaku-account-form #create-account-title {
    padding-left: 16px;
    padding-right: 16px;
    padding-top: 20px;
}
.d-modal.create-account .otaku-modal .has-alt-auth .login-form .input-group, .d-modal.create-account .otaku-modal .login-form .input-group {
    padding: 0;
}  
.otaku-account-form .more-info {
    right: 10px;
    top: 8px;
}
.d-modal.create-account .otaku-modal .has-alt-auth .login-form, .d-modal.create-account .otaku-modal .login-form {
    margin-bottom: 0;
}   
.d-modal.create-account .otaku-modal .modal-footer {
    padding-left: 16px;
    padding-right: 16px;
    padding-bottom: 20px;
    border: none !important;
}
.otaku-modal button#login-link:after, .otaku-modal button#new-account-link:after {
    top: 10px;
}  
.d-modal.create-account .otaku-modal .modal-footer,
.d-modal.create-account .otaku-modal .has-alt-auth .login-form, .d-modal.create-account .otaku-modal .login-form{
    margin-top: -1px;
}    
}